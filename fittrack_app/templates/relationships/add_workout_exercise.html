{% extends "base.html" %}

{% block title %}Link Exercise to Workout - FitTrack Pro{% endblock %}

{% block content %}
<section class="form-section">
    <h1>Link Exercise to Workout</h1>
    <a href="{{ url_for('maintenance') }}" class="back-link">‚Üê Back to Data Management</a>

    <form method="POST" action="{{ url_for('add_workout_exercise') }}" class="entity-form">
        <div class="form-row">
            <div class="form-group">
                <label for="workout_id">Select Workout *</label>
                <select id="workout_id" name="workout_id" required>
                    <option value="">-- Select Workout --</option>
                    {% for workout in workouts %}
                        <option value="{{ workout.workout_id }}">
                            {{ workout.workout_name }} ({{ workout.date }})
                        </option>
                    {% else %}
                        <option value="">No workouts available (add workouts first)</option>
                    {% endfor %}
                </select>
            </div>

            <div class="form-group">
                <label for="exercise_id">Select Exercise *</label>
                <select id="exercise_id" name="exercise_id" required>
                    <option value="">-- Select Exercise --</option>
                    {% for exercise in exercises %}
                        <option value="{{ exercise.exercise_id }}">
                            {{ exercise.name }} ({{ exercise.category }})
                        </option>
                    {% else %}
                        <option value="">No exercises available (add exercises first)</option>
                    {% endfor %}
                </select>
            </div>
        </div>

        <h3>Exercise Details</h3>

        <div class="form-row">
            <div class="form-group">
                <label for="sets">Sets *</label>
                <input type="number" id="sets" name="sets" min="1" max="20" required 
                       placeholder="e.g., 3">
            </div>

            <div class="form-group">
                <label for="reps">Reps *</label>
                <input type="number" id="reps" name="reps" min="1" max="100" required 
                       placeholder="e.g., 12">
            </div>
        </div>

        <div class="form-row">
            <div class="form-group">
                <label for="weight">Weight (kg)</label>
                <input type="number" id="weight" name="weight" step="0.5" min="0" max="500" 
                       placeholder="e.g., 50.0">
            </div>

            <div class="form-group">
                <label for="duration">Duration (minutes)</label>
                <input type="number" id="duration" name="duration" min="0" max="180" 
                       placeholder="e.g., 30">
            </div>
        </div>

        <div class="form-group">
            <label for="rest_time">Rest Time (seconds)</label>
            <input type="number" id="rest_time" name="rest_time" min="0" max="600" 
                   placeholder="e.g., 60">
        </div>

        <div class="form-actions">
            <button type="submit" class="btn-primary">Link Exercise to Workout</button>
            <a href="{{ url_for('maintenance') }}" class="btn-secondary">Cancel</a>
        </div>
    </form>

    <div class="form-help">
        <h3>üí° Tips:</h3>
        <ul>
            <li><strong>Sets & Reps:</strong> Required for strength exercises</li>
            <li><strong>Weight:</strong> Use for strength training (optional for cardio)</li>
            <li><strong>Duration:</strong> Use for cardio exercises or timed activities</li>
            <li><strong>Rest Time:</strong> Time between sets (typically 30-120 seconds)</li>
        </ul>
        
        <h3>üìù Examples:</h3>
        <ul>
            <li><strong>Bench Press:</strong> 3 sets, 10 reps, 80kg weight, 90s rest</li>
            <li><strong>Running:</strong> 1 set, 1 rep, 30 minutes duration</li>
            <li><strong>Push-ups:</strong> 3 sets, 15 reps, no weight, 60s rest</li>
        </ul>
    </div>
</section>
{% endblock %}
