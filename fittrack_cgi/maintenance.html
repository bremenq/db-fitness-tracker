<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data Management - FitTrack Pro</title>
    <link rel="stylesheet" type="text/css" href="css/style.css">
</head>
<body>
    <header>
        <div class="container">
            <div class="logo">
                <img src="img/fittrack-pro-logo.svg" alt="FitTrack Pro" height="40">
            </div>
            <nav>
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="index.html#features">Features</a></li>
                    <li><a href="maintenance.html" class="active">Maintenance</a></li>
                    <li><a href="forms/search_hub.html">Search</a></li>
                    <li><a href="index.html#about">About</a></li>
                    <li><a href="imprint.html">Imprint</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main>
        <div class="container">
            <section class="maintenance-section">
                <h1>FitTrack Pro - Data Management</h1>
                <p class="subtitle">Add and manage data in the FitTrack Pro system</p>
                
                <div id="loginStatus" class="login-status"></div>

                <div class="maintenance-grid">
                    <div class="maintenance-card">
                        <h2>ğŸ‘¤ User Management</h2>
                        <div class="maintenance-links">
                            <a href="forms/add_user.html" class="btn-primary">â• Add User</a>
                            <a href="forms/add_progress.html" class="btn-primary">ğŸ“Š Add Progress Tracking</a>
                        </div>
                    </div>

                    <div class="maintenance-card">
                        <h2>ğŸ‹ï¸ Gym Management</h2>
                        <div class="maintenance-links">
                            <a href="forms/add_gym.html" class="btn-primary">ğŸ¢ Add Gym</a>
                            <a href="forms/add_class.html" class="btn-primary">ğŸ“… Add Class</a>
                        </div>
                    </div>

                    <div class="maintenance-card">
                        <h2>ğŸ’ª Workout Management</h2>
                        <div class="maintenance-links">
                            <a href="forms/add_workout.html" class="btn-primary">ğŸƒ Add Workout</a>
                            <a href="forms/add_exercise.html" class="btn-primary">ğŸ’ª Add Exercise</a>
                        </div>
                    </div>

                    <div class="maintenance-card">
                        <h2>ğŸ”— Relationships</h2>
                        <div class="maintenance-links">
                            <a href="forms/add_workout_exercise.html" class="btn-secondary">ğŸ”— Link Exercise to Workout</a>
                            <a href="forms/add_class_booking.html" class="btn-secondary">ğŸ“ Book Class for Member</a>
                            <a href="forms/add_gym_member.html" class="btn-secondary">ğŸ‘¥ Add Gym Member</a>
                        </div>
                    </div>
                </div>

                <div class="maintenance-card search-section">
                    <h2>ğŸ” Search & Analytics</h2>
                    <p>Explore and analyze your fitness data with powerful search tools</p>
                    <div class="maintenance-links">
                        <a href="forms/search_hub.html" class="btn-highlight">ğŸ” Open Search Hub</a>
                    </div>
                </div>

                <div class="stats-section">
                    <h3>System Overview</h3>
                    <div class="stats-grid">
                        <div class="stat-item">
                            <span class="stat-number">6</span>
                            <span class="stat-label">Entity Types</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-number">3</span>
                            <span class="stat-label">Relationships</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-number">9</span>
                            <span class="stat-label">Input Forms</span>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>FitTrack<span class="highlight">Pro</span></h3>
                    <p>Database Systems Project 2025</p>
                </div>
                <div class="footer-section">
                    <h4>Development Team</h4>
                    <p>Aleksandr Zinovev<br>
                    Siwoo Lee<br>
                    Arslan Ahmet Berk</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 FitTrack Pro. Database Systems Course Project.</p>
            </div>
        </div>
    </footer>
    
    <script>
        function checkLoginStatus() {
            const statusDiv = document.getElementById('loginStatus');
            
            // Call server-side session checker
            fetch('check_session.py')
                .then(response => response.json())
                .then(data => {
                    if (data.logged_in) {
                        statusDiv.innerHTML = `
                            <div style="padding: 15px; background: #d4edda; border: 1px solid #c3e6cb; border-radius: 4px; margin-bottom: 20px; display: flex; justify-content: space-between; align-items: center;">
                                <span style="color: #155724; font-size: 14px;">
                                    <strong>âœ“ Logged in as ${data.username}</strong> - You can now add and modify data
                                </span>
                                <a href="logout.py" style="padding: 8px 20px; background: #dc3545; color: white; text-decoration: none; border-radius: 4px; font-size: 14px;">Logout</a>
                            </div>
                        `;
                    } else {
                        statusDiv.innerHTML = `
                            <div style="padding: 15px; background: #fff3cd; border: 1px solid #ffeaa7; border-radius: 4px; margin-bottom: 20px; display: flex; justify-content: space-between; align-items: center;">
                                <span style="color: #856404; font-size: 14px;">
                                    <strong>âš  Not logged in</strong> - Login required to add or modify data
                                </span>
                                <a href="login.html" style="padding: 8px 20px; background: #3498db; color: white; text-decoration: none; border-radius: 4px; font-size: 14px;">Login</a>
                            </div>
                        `;
                    }
                })
                .catch(error => {
                    console.error('Error checking session:', error);
                    statusDiv.innerHTML = `
                        <div style="padding: 15px; background: #fff3cd; border: 1px solid #ffeaa7; border-radius: 4px; margin-bottom: 20px;">
                            <span style="color: #856404; font-size: 14px;">
                                <strong>âš  Not logged in</strong> - Login required to add or modify data
                            </span>
                        </div>
                    `;
                });
        }
        
        checkLoginStatus();
    </script>
</body>
</html>

